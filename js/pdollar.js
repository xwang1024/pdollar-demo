var originData = [
  {"name":"1","points":[{"X":0.010416666666666689,"Y":-0.49860638176467525,"ID":1},{"X":0.010416666666666689,"Y":-0.4659774246279395,"ID":1},{"X":0.010416666666666689,"Y":-0.4333484674912037,"ID":1},{"X":0.010416666666666689,"Y":-0.40071951035446807,"ID":1},{"X":0.010416666666666689,"Y":-0.36809055321773243,"ID":1},{"X":0.010416666666666689,"Y":-0.33546159608099674,"ID":1},{"X":0.010416666666666689,"Y":-0.3028326389442611,"ID":1},{"X":0.010416666666666689,"Y":-0.2702036818075254,"ID":1},{"X":0.010416666666666689,"Y":-0.23757472467078977,"ID":1},{"X":0.010416666666666689,"Y":-0.20494576753405414,"ID":1},{"X":0.002286585365853663,"Y":-0.17568440033531096,"ID":1},{"X":0.002286585365853663,"Y":-0.14305544319857533,"ID":1},{"X":0.002286585365853663,"Y":-0.11042648606183969,"ID":1},{"X":-0.005843495934959361,"Y":-0.08592761022591705,"ID":1},{"X":-0.005843495934959361,"Y":-0.053298653089181414,"ID":1},{"X":-0.005843495934959361,"Y":-0.02066969595244572,"ID":1},{"X":-0.005843495934959361,"Y":0.011959261184289971,"ID":1},{"X":-0.005843495934959361,"Y":0.04458821832102561,"ID":1},{"X":-0.005843495934959361,"Y":0.07721717545776124,"ID":1},{"X":-0.005843495934959361,"Y":0.10984613259449688,"ID":1},{"X":-0.005843495934959361,"Y":0.14247508973123252,"ID":1},{"X":-0.005843495934959361,"Y":0.17510404686796815,"ID":1},{"X":-0.005843495934959361,"Y":0.2077330040047039,"ID":1},{"X":-0.005843495934959361,"Y":0.24036196114143954,"ID":1},{"X":-0.005843495934959361,"Y":0.2729909182781752,"ID":1},{"X":-0.005843495934959361,"Y":0.3056198754149108,"ID":1},{"X":-0.005843495934959361,"Y":0.33824883255164645,"ID":1},{"X":-0.005843495934959361,"Y":0.3708777896883821,"ID":1},{"X":-0.005843495934959361,"Y":0.40350674682511783,"ID":1},{"X":-0.005843495934959361,"Y":0.43613570396185347,"ID":1},{"X":-0.005843495934959361,"Y":0.4687646610985891,"ID":1},{"X":-0.005843495934959361,"Y":0.5013936182353247,"ID":1}]},
  {"name":"2","points":[{"X":-0.30981288387922906,"Y":-0.38638417527986646,"ID":1},{"X":-0.28524824803657256,"Y":-0.44944723834292954,"ID":1},{"X":-0.2321108835880259,"Y":-0.4944922833879746,"ID":1},{"X":-0.17524186542440615,"Y":-0.5305283194240107,"ID":1},{"X":-0.10260567667202186,"Y":-0.5507971848712822,"ID":1},{"X":-0.021736139346057837,"Y":-0.5575553464510377,"ID":1},{"X":0.047873541541643694,"Y":-0.5395373284330196,"ID":1},{"X":0.09200189698118139,"Y":-0.4854832743789656,"ID":1},{"X":0.1308528971267831,"Y":-0.43142922032491154,"ID":1},{"X":0.1606948882633758,"Y":-0.36836615726184846,"ID":1},{"X":0.19175377493078555,"Y":-0.3082409398932753,"ID":1},{"X":0.21270963864329345,"Y":-0.22929344394851858,"ID":1},{"X":0.2231938346461267,"Y":-0.15214994104563223,"ID":1},{"X":0.2307276566613115,"Y":-0.07205606415509752,"ID":1},{"X":0.20370062963428442,"Y":-0.006178036982468771,"ID":1},{"X":0.16766459359824842,"Y":0.05596833647508692,"ID":1},{"X":0.12790252313913475,"Y":0.10911132021562897,"ID":1},{"X":0.08531986927846025,"Y":0.154156365260674,"ID":1},{"X":0.03372820640877672,"Y":0.1901924012967101,"ID":1},{"X":-0.019409158039769947,"Y":0.23523744634175514,"ID":1},{"X":-0.07557864964499483,"Y":0.27197300893618603,"ID":1},{"X":-0.12786983907307323,"Y":0.30730951841382725,"ID":1},{"X":-0.19269576676211195,"Y":0.3459433555123165,"ID":1},{"X":-0.246749820816166,"Y":0.37951700036398195,"ID":1},{"X":-0.2947452398488594,"Y":0.4244266355309443,"ID":1},{"X":-0.23725282900387917,"Y":0.44244465354896234,"ID":1},{"X":-0.14962513009815964,"Y":0.44244465354896234,"ID":1},{"X":-0.06199743119244011,"Y":0.44244465354896234,"ID":1},{"X":0.02563026771327942,"Y":0.44244465354896234,"ID":1},{"X":0.11325796661899895,"Y":0.44244465354896234,"ID":1},{"X":0.20088566552471848,"Y":0.44244465354896234,"ID":1},{"X":0.28478171071536523,"Y":0.4334356445399533,"ID":1}]},
  {"name":"3","points":[{"X":-0.23441313417113477,"Y":-0.3654576544146203,"ID":1},{"X":-0.1710086082793435,"Y":-0.41301104883346385,"ID":1},{"X":-0.0999816924723829,"Y":-0.4434120791955514,"ID":1},{"X":-0.02253321534381847,"Y":-0.45454842559282727,"ID":1},{"X":0.056722442020920694,"Y":-0.45454842559282727,"ID":1},{"X":0.12348689142882802,"Y":-0.4196024455138647,"ID":1},{"X":0.15535898973352064,"Y":-0.3515647525859234,"ID":1},{"X":0.13107539109754862,"Y":-0.2789186976729209,"ID":1},{"X":0.07609529605695808,"Y":-0.2224872861776293,"ID":1},{"X":0.012690770165166843,"Y":-0.17493389175878593,"ID":1},{"X":-0.044888898528856386,"Y":-0.12066438056313983,"ID":1},{"X":-0.1119996483394197,"Y":-0.07863199128102705,"ID":1},{"X":-0.17540417423121096,"Y":-0.03107859686218367,"ID":1},{"X":-0.23486614432251965,"Y":0.020904360791866305,"ID":1},{"X":-0.28898173682249373,"Y":0.06830329041162853,"ID":1},{"X":-0.2139338000210425,"Y":0.047184948499406465,"ID":1},{"X":-0.14262985466761996,"Y":0.015289082610751403,"ID":1},{"X":-0.06548342219851477,"Y":-0.0027896650661232703,"ID":1},{"X":0.013147926575951596,"Y":-0.00909456970179251,"ID":1},{"X":0.09240358394069076,"Y":-0.00909456970179251,"ID":1},{"X":0.16895069116756528,"Y":0.010284459305923643,"ID":1},{"X":0.23688486484414206,"Y":0.05015861261427723,"ID":1},{"X":0.2792026105499964,"Y":0.11609286156112475,"ID":1},{"X":0.27571016438022444,"Y":0.1890144458355314,"ID":1},{"X":0.22612963005887932,"Y":0.24964514917791258,"ID":1},{"X":0.16704223188055795,"Y":0.3021762336721704,"ID":1},{"X":0.11100001911055352,"Y":0.3582184464421748,"ID":1},{"X":0.05029288510654184,"Y":0.40904870591806664,"ID":1},{"X":-0.015239052039399903,"Y":0.45357631192813197,"ID":1},{"X":-0.0775938028465406,"Y":0.5024489791627119,"ID":1},{"X":-0.1430511872380996,"Y":0.5454515744071727,"ID":1},{"X":-0.13418601659565194,"Y":0.4920410181756216,"ID":1}]},
  {"name":"4","points":[{"X":0.006552896146081177,"Y":-0.44040976757676437,"ID":1},{"X":-0.02742777457576323,"Y":-0.3924645620973123,"ID":1},{"X":-0.06156420861806991,"Y":-0.3448954025386407,"ID":1},{"X":-0.0961868298813161,"Y":-0.29737186500027235,"ID":1},{"X":-0.1402313376839465,"Y":-0.2554782607274493,"ID":1},{"X":-0.18027557509561926,"Y":-0.21248540592410503,"ID":1},{"X":-0.22546179786312112,"Y":-0.15958784976854518,"ID":1},{"X":-0.2605703915251517,"Y":-0.10875833135512236,"ID":1},{"X":-0.28111833673063114,"Y":-0.051392636233462186,"ID":1},{"X":-0.2879676517991243,"Y":0.015659453151027514,"ID":1},{"X":-0.2579970266183496,"Y":0.059590232423235634,"ID":1},{"X":-0.18693270135970314,"Y":0.06643954749172881,"ID":1},{"X":-0.11303129690672031,"Y":0.06643954749172881,"ID":1},{"X":-0.03912989245373749,"Y":0.06643954749172881,"ID":1},{"X":0.03477151199924533,"Y":0.06643954749172881,"ID":1},{"X":0.10583583725789181,"Y":0.059590232423235634,"ID":1},{"X":0.17973724171087463,"Y":0.059590232423235634,"ID":1},{"X":0.25363864616385745,"Y":0.059590232423235634,"ID":1},{"X":0.3275400506168401,"Y":0.059590232423235634,"ID":1},{"X":0.11614193724197158,"Y":-0.3057951812557623,"ID":2},{"X":0.11614193724197158,"Y":-0.23189377680277953,"ID":2},{"X":0.11614193724197158,"Y":-0.15799237234979674,"ID":2},{"X":0.11614193724197158,"Y":-0.08409096789681392,"ID":2},{"X":0.11614193724197158,"Y":-0.010189563443831096,"ID":2},{"X":0.1092926221734784,"Y":0.06209493705367369,"ID":2},{"X":0.10269073277855556,"Y":0.1344378468295196,"ID":2},{"X":0.0955939920364921,"Y":0.20544376280982485,"ID":2},{"X":0.0818953618995058,"Y":0.27367100887413504,"ID":2},{"X":0.07504604683101268,"Y":0.34072309825862473,"ID":2},{"X":0.0681967317625195,"Y":0.4117874235172712,"ID":2},{"X":0.0681967317625195,"Y":0.485688827970254,"ID":2},{"X":0.0681967317625195,"Y":0.5595902324232356,"ID":2}]},
  {"name":"5","points":[{"X":-0.11002140760411774,"Y":-0.5410013912108365,"ID":1},{"X":-0.11002140760411774,"Y":-0.47687503683720245,"ID":1},{"X":-0.12430712188983202,"Y":-0.42285020790909056,"ID":1},{"X":-0.12430712188983202,"Y":-0.35872385353545644,"ID":1},{"X":-0.12430712188983202,"Y":-0.2945974991618223,"ID":1},{"X":-0.13144997903268918,"Y":-0.2334298130908532,"ID":1},{"X":-0.13144997903268918,"Y":-0.16930345871721908,"ID":1},{"X":-0.12430712188983202,"Y":-0.10686330418286921,"ID":1},{"X":-0.11002140760411774,"Y":-0.04865428641456515,"ID":1},{"X":-0.0923505897824226,"Y":0.00524085518228723,"ID":1},{"X":-0.06716426474697489,"Y":0.056022971763090346,"ID":1},{"X":-0.03518482942567465,"Y":0.10526375839617808,"ID":1},{"X":0.0042643066815965525,"Y":0.15304974557027817,"ID":1},{"X":0.03997859239588225,"Y":0.19110266037339163,"ID":1},{"X":0.07192328406803014,"Y":0.22328432307487778,"ID":1},{"X":0.1114071638244537,"Y":0.26047936421266493,"ID":1},{"X":0.14670969728502287,"Y":0.3018557516463064,"ID":1},{"X":0.17634728648189835,"Y":0.3447128945034492,"ID":1},{"X":0.18997859239588227,"Y":0.39520794296309947,"ID":1},{"X":0.16107147527688365,"Y":0.43042718021773496,"ID":1},{"X":0.10286245750857959,"Y":0.4447128945034493,"ID":1},{"X":0.041694771437610495,"Y":0.4518557516463064,"ID":1},{"X":-0.02243158293602364,"Y":0.4518557516463064,"ID":1},{"X":-0.07941508016680064,"Y":0.45899860878916354,"ID":1},{"X":-0.14354143454043478,"Y":0.45899860878916354,"ID":1},{"X":-0.11237502629416657,"Y":-0.31957281978226504,"ID":2},{"X":-0.055391529063389566,"Y":-0.3124299626394079,"ID":2},{"X":0.007048625470960274,"Y":-0.30528710549655075,"ID":2},{"X":0.06674335919764127,"Y":-0.2919047220956713,"ID":2},{"X":0.13065646607627923,"Y":-0.29100139121083646,"ID":2},{"X":0.1930966206106291,"Y":-0.28385853406797934,"ID":2},{"X":0.25426430668159655,"Y":-0.27671567692512217,"ID":2}]},
  {"name":"6","points":[{"X":0.2505085631848334,"Y":-0.5760188517556353,"ID":1},{"X":0.20365809686464154,"Y":-0.5412362430599831,"ID":1},{"X":0.16040948760856338,"Y":-0.4977579821904179,"ID":1},{"X":0.12161590472497369,"Y":-0.4558218454696886,"ID":1},{"X":0.08529117188048557,"Y":-0.3994225576672093,"ID":1},{"X":0.04877360669596997,"Y":-0.3481969387450327,"ID":1},{"X":0.010460977017928585,"Y":-0.28906233001650483,"ID":1},{"X":-0.020490123000122512,"Y":-0.22819276479911355,"ID":1},{"X":-0.05383926290212315,"Y":-0.17481503457547082,"ID":1},{"X":-0.08090038499053964,"Y":-0.11514928653824397,"ID":1},{"X":-0.11470882811951445,"Y":-0.06223085954157548,"ID":1},{"X":-0.14491485195329248,"Y":-0.0025633258272098614,"ID":1},{"X":-0.17178164615352765,"Y":0.06366266193055181,"ID":1},{"X":-0.19515931690716007,"Y":0.1305185935537495,"ID":1},{"X":-0.21036100203255792,"Y":0.2023102213523058,"ID":1},{"X":-0.21905665420647097,"Y":0.27524764419423675,"ID":1},{"X":-0.21905665420647097,"Y":0.3517869241002817,"ID":1},{"X":-0.17759977005278804,"Y":0.3958728150067433,"ID":1},{"X":-0.11470882811951445,"Y":0.41579904315481253,"ID":1},{"X":-0.046351653303021684,"Y":0.4239811482443647,"ID":1},{"X":0.028498798463074848,"Y":0.41990395644438416,"ID":1},{"X":0.08529117188048557,"Y":0.3872640282863846,"ID":1},{"X":0.11668484511517924,"Y":0.33702462650523424,"ID":1},{"X":0.12876943275005076,"Y":0.2674761391242618,"ID":1},{"X":0.1374650849239638,"Y":0.1996325113921299,"ID":1},{"X":0.1374650849239638,"Y":0.12309323148608498,"ID":1},{"X":0.1374650849239638,"Y":0.04655395158003994,"ID":1},{"X":0.11828121704924627,"Y":-0.010801460451287492,"ID":1},{"X":0.08522019801276653,"Y":-0.05427972132085268,"ID":1},{"X":0.03476787462846076,"Y":-0.08036667784259177,"ID":1},{"X":-0.02438010092975812,"Y":-0.09775798219041787,"ID":1},{"X":-0.09731752377168836,"Y":-0.10645363436433092,"ID":1}]},
  {"name":"7","points":[{"X":-0.30091026621176725,"Y":-0.38972690856256686,"ID":1},{"X":-0.2525231694375737,"Y":-0.3888128173775143,"ID":1},{"X":-0.2137128383769288,"Y":-0.37359787630450236,"ID":1},{"X":-0.1724761665467148,"Y":-0.3655333601754701,"ID":1},{"X":-0.12651541054209037,"Y":-0.35746884404643786,"ID":1},{"X":-0.08055465453746594,"Y":-0.34940432791740555,"ID":1},{"X":-0.0393179827072519,"Y":-0.3413398117883733,"ID":1},{"X":0.008682215000684834,"Y":-0.33819894347914703,"ID":1},{"X":0.04787944512758652,"Y":-0.3252107795303088,"ID":1},{"X":0.09718063308683278,"Y":-0.3252107795303088,"ID":1},{"X":0.12650908862694243,"Y":-0.3052380471111722,"ID":1},{"X":0.12650908862694243,"Y":-0.2559368591519259,"ID":1},{"X":0.12650908862694243,"Y":-0.20663567119267964,"ID":1},{"X":0.12650908862694243,"Y":-0.15733448323343338,"ID":1},{"X":0.12650908862694243,"Y":-0.10803329527418715,"ID":1},{"X":0.11844457249791018,"Y":-0.06207253926956269,"ID":1},{"X":0.11038005636887793,"Y":-0.020835867439348676,"ID":1},{"X":0.10231554023984563,"Y":0.025124888565275783,"ID":1},{"X":0.09108632123189325,"Y":0.06505069754215975,"ID":1},{"X":0.07812199185274887,"Y":0.10425780027108172,"ID":1},{"X":0.06237007540157263,"Y":0.14253115595356214,"ID":1},{"X":0.05392844346565212,"Y":0.18811479615129834,"ID":1},{"X":0.0347790917599613,"Y":0.22619663669151102,"ID":1},{"X":0.017238692531798105,"Y":0.2642977545954637,"ID":1},{"X":0.0015960887390678025,"Y":0.307766736486598,"ID":1},{"X":-0.010587685566605942,"Y":0.3472971557131308,"ID":1},{"X":-0.018652201695638193,"Y":0.39325791171775526,"ID":1},{"X":-0.027876971829371322,"Y":0.43401399060342427,"ID":1},{"X":-0.03478123395370275,"Y":0.48045533955259345,"ID":1},{"X":-0.05091026621176725,"Y":0.5183515794281857,"ID":1},{"X":-0.06069046435243228,"Y":0.5636016766748724,"ID":1},{"X":-0.06703929846983178,"Y":0.6102730914374331,"ID":1}]},
  {"name":"8","points":[{"X":0.049989273603684936,"Y":-0.4485669634119954,"ID":1},{"X":-0.043119568488621,"Y":-0.455610875759745,"ID":1},{"X":-0.12214058588542777,"Y":-0.43447913871649624,"ID":1},{"X":-0.13315244743780455,"Y":-0.34533824582881734,"ID":1},{"X":-0.1158303804826656,"Y":-0.2583813300227563,"ID":1},{"X":-0.08872304581346391,"Y":-0.1716884543119181,"ID":1},{"X":-0.055669411612559005,"Y":-0.08935319176474099,"ID":1},{"X":-0.011648695746203669,"Y":-0.015373826639554389,"ID":1},{"X":0.031226452928276277,"Y":0.060963641993815654,"ID":1},{"X":0.07112101064693371,"Y":0.13633907291963832,"ID":1},{"X":0.10634057238568168,"Y":0.21365095058437922,"ID":1},{"X":0.1345162217766801,"Y":0.2980067405968698,"ID":1},{"X":0.15006102319114856,"Y":0.3826146936224568,"ID":1},{"X":0.14560908818164875,"Y":0.46714164179545203,"ID":1},{"X":0.0781649229946833,"Y":0.508102687690831,"ID":1},{"X":-0.020449849873811016,"Y":0.509169562501507,"ID":1},{"X":-0.09214305194254024,"Y":0.47997538789971794,"ID":1},{"X":-0.15043643778916102,"Y":0.42872591440084673,"ID":1},{"X":-0.18950374621980132,"Y":0.36126028224275275,"ID":1},{"X":-0.1965476585675509,"Y":0.2681514401504468,"ID":1},{"X":-0.17308343259381648,"Y":0.19009657130273216,"ID":1},{"X":-0.12802330157666197,"Y":0.11686079089457924,"ID":1},{"X":-0.07680114865580778,"Y":0.05442986017286777,"ID":1},{"X":-0.02965058290006417,"Y":-0.009687577173016937,"ID":1},{"X":0.007725799517187354,"Y":-0.08197984213997045,"ID":1},{"X":0.06651994497623859,"Y":-0.1315909077632636,"ID":1},{"X":0.12440922532979654,"Y":-0.17385438184976115,"ID":1},{"X":0.17677969586317765,"Y":-0.2216366657564356,"ID":1},{"X":0.18382360821092725,"Y":-0.31474550784874156,"ID":1},{"X":0.15564795881992888,"Y":-0.39084884121894325,"ID":1},{"X":0.10204318590403139,"Y":-0.44152305106424583,"ID":1},{"X":0.042945361255935344,"Y":-0.490830437498493,"ID":1}]},
  {"name":"9","points":[{"X":0.14254444824151183,"Y":-0.22469986643075074,"ID":1},{"X":0.14254444824151183,"Y":-0.2986950406853287,"ID":1},{"X":0.11461148734765705,"Y":-0.35130235390780506,"ID":1},{"X":0.064021843235636,"Y":-0.38143476193941983,"ID":1},{"X":-0.005473782998931059,"Y":-0.3922976317938792,"ID":1},{"X":-0.05712258853842522,"Y":-0.36995126307879544,"ID":1},{"X":-0.09492385963870678,"Y":-0.3196719334698569,"ID":1},{"X":-0.12135960277147764,"Y":-0.26805838525016357,"ID":1},{"X":-0.15673227135594833,"Y":-0.20715201382800902,"ID":1},{"X":-0.1855948305120497,"Y":-0.14795723572188194,"ID":1},{"X":-0.2106189375049355,"Y":-0.08503506196147698,"ID":1},{"X":-0.22617063555737085,"Y":-0.023319035828457735,"ID":1},{"X":-0.22106562138698582,"Y":0.0485615723206399,"ID":1},{"X":-0.19100415302200732,"Y":0.09932247993796434,"ID":1},{"X":-0.13839683979953094,"Y":0.12725544083181906,"ID":1},{"X":-0.06998825772372391,"Y":0.13284203301059005,"ID":1},{"X":-0.006140903808527359,"Y":0.10834302751872982,"ID":1},{"X":0.03081260466609284,"Y":0.05619959751336173,"ID":1},{"X":0.05995941072211278,"Y":-0.002450024442077925,"ID":1},{"X":0.08667852645380233,"Y":-0.05556012879334421,"ID":1},{"X":0.11461148734765705,"Y":-0.11143999194669713,"ID":1},{"X":0.12019807952642805,"Y":-0.11312657783341074,"ID":1},{"X":0.11461148734765705,"Y":-0.04471799575760371,"ID":1},{"X":0.09785171081134422,"Y":0.02432550521556265,"ID":1},{"X":0.08995572471846866,"Y":0.09604528167329807,"ID":1},{"X":0.08109193427503139,"Y":0.1663689537121713,"ID":1},{"X":0.07550534209626045,"Y":0.23904531244999083,"ID":1},{"X":0.0699187499174895,"Y":0.31172167118781036,"ID":1},{"X":0.0699187499174895,"Y":0.38571684544238827,"ID":1},{"X":0.0699187499174895,"Y":0.4597120196969663,"ID":1},{"X":0.0699187499174895,"Y":0.5337071939515442,"ID":1},{"X":0.0699187499174895,"Y":0.6077023682061208,"ID":1}]},
  {"name":"0","points":[{"X":-0.1635815200558672,"Y":-0.41070980599105394,"ID":1},{"X":-0.1635815200558672,"Y":-0.33116456743189854,"ID":1},{"X":-0.1635815200558672,"Y":-0.2516193288727432,"ID":1},{"X":-0.17177824136734263,"Y":-0.17546928344779333,"ID":1},{"X":-0.17997496267881805,"Y":-0.09785902831076726,"ID":1},{"X":-0.17997496267881805,"Y":-0.018313789751611853,"ID":1},{"X":-0.18817168399029344,"Y":0.057836255673338,"ID":1},{"X":-0.19636840530176886,"Y":0.13605134947701486,"ID":1},{"X":-0.19636840530176886,"Y":0.21559658803617027,"ID":1},{"X":-0.19636840530176886,"Y":0.2951418265953257,"ID":1},{"X":-0.185828930739076,"Y":0.37032147185032743,"ID":1},{"X":-0.15648247796996678,"Y":0.4335524890909133,"ID":1},{"X":-0.117263774096812,"Y":0.48806695636144387,"ID":1},{"X":-0.0504961702337795,"Y":0.5073229808941919,"ID":1},{"X":0.017457153879694903,"Y":0.49092953827124114,"ID":1},{"X":0.06222664910180692,"Y":0.44174921040238874,"ID":1},{"X":0.09871356191134589,"Y":0.38428630012096326,"ID":1},{"X":0.1315004471572475,"Y":0.31540141467447796,"ID":1},{"X":0.14789388978019835,"Y":0.2426465623837339,"ID":1},{"X":0.16525302603461067,"Y":0.17029171349223865,"ID":1},{"X":0.18068077502609997,"Y":0.09713685780224585,"ID":1},{"X":0.1970742176490508,"Y":0.022921795799425604,"ID":1},{"X":0.20527093896052623,"Y":-0.05322824962552425,"ID":1},{"X":0.21346766027200165,"Y":-0.1293782950504741,"ID":1},{"X":0.21346766027200165,"Y":-0.20892353360962945,"ID":1},{"X":0.21346766027200165,"Y":-0.28846877216878486,"ID":1},{"X":0.1970742176490508,"Y":-0.3564220962822591,"ID":1},{"X":0.16522176918863007,"Y":-0.41797209051704853,"ID":1},{"X":0.1304423867107839,"Y":-0.4680868551713818,"ID":1},{"X":0.0658842557315153,"Y":-0.492677019105808,"ID":1},{"X":-0.013660982827640111,"Y":-0.492677019105808,"ID":1},{"X":-0.08161430694111312,"Y":-0.4762835764828572,"ID":1}]}
]
//
// Point class
//
function Point(x, y, id) // constructor
{
  this.X = x;
  this.Y = y;
  this.ID = id; // stroke ID to which this point belongs (1,2,...)
}
//
// PointCloud class: a point-cloud template
//
function PointCloud(name, points) // constructor
{
  this.Name = name;
  this.Points = Resample(points, NumPoints);
  this.Points = Scale(this.Points);
  this.Points = TranslateTo(this.Points, Origin);
  console.log(JSON.stringify({name: this.Name, points: this.Points}));
}
//
// Result class
//
function Result(name, score) // constructor
{
  this.Name = name;
  this.Score = score;
}
//
// PDollarRecognizer class constants
//
var NumPointClouds = originData.length;
var NumPoints = 32;
var Origin = new Point(0,0,0);
//
// PDollarRecognizer class
//

function PDollarRecognizer() // constructor
{
  //
  // one predefined point-cloud for each gesture
  //
  this.PointClouds = new Array(NumPointClouds);
  for(var i in originData) {
    console.log(originData[i].name);
    this.PointClouds[i] = new PointCloud(originData[i].name, originData[i].points);
  }

  //
  // The $P Point-Cloud Recognizer API begins here -- 3 methods: Recognize(), AddGesture(), DeleteUserGestures()
  //
  this.Recognize = function(points)
  {
    points = Resample(points, NumPoints);
    points = Scale(points);
    points = TranslateTo(points, Origin);

    var b = +Infinity;
    var u = -1;
    for (var i = 0; i < this.PointClouds.length; i++) // for each point-cloud template
    {
      var d = GreedyCloudMatch(points, this.PointClouds[i]);
      if (d < b) {
        b = d; // best (least) distance
        u = i; // point-cloud
      }
    }
    return (u == -1) ? new Result("No match.", 0.0) : new Result(this.PointClouds[u].Name, Math.max((b - 2.0) / -2.0, 0.0));
  };
  this.AddGesture = function(name, points)
  {
    this.PointClouds[this.PointClouds.length] = new PointCloud(name, points);
    var num = 0;
    for (var i = 0; i < this.PointClouds.length; i++) {
      if (this.PointClouds[i].Name == name)
        num++;
    }
    return num;
  }
  this.DeleteUserGestures = function()
  {
    this.PointClouds.length = NumPointClouds; // clear any beyond the original set
    return NumPointClouds;
  }
}
//
// Private helper functions from this point down
//
function GreedyCloudMatch(points, P)
{
  var e = 0.50;
  var step = Math.floor(Math.pow(points.length, 1 - e));
  var min = +Infinity;
  for (var i = 0; i < points.length; i += step) {
    var d1 = CloudDistance(points, P.Points, i);
    var d2 = CloudDistance(P.Points, points, i);
    min = Math.min(min, Math.min(d1, d2)); // min3
  }
  return min;
}
function CloudDistance(pts1, pts2, start)
{
  var matched = new Array(pts1.length); // pts1.length == pts2.length
  for (var k = 0; k < pts1.length; k++)
    matched[k] = false;
  var sum = 0;
  var i = start;
  do
  {
    var index = -1;
    var min = +Infinity;
    for (var j = 0; j < matched.length; j++)
    {
      if (!matched[j]) {
        var d = Distance(pts1[i], pts2[j]);
        if (d < min) {
          min = d;
          index = j;
        }
      }
    }
    matched[index] = true;
    var weight = 1 - ((i - start + pts1.length) % pts1.length) / pts1.length;
    sum += weight * min;
    i = (i + 1) % pts1.length;
  } while (i != start);
  return sum;
}
function Resample(points, n)
{
  var I = PathLength(points) / (n - 1); // interval length
  var D = 0.0;
  var newpoints = new Array(points[0]);
  for (var i = 1; i < points.length; i++)
  {
    if (points[i].ID == points[i-1].ID)
    {
      var d = Distance(points[i - 1], points[i]);
      if ((D + d) >= I)
      {
        var qx = points[i - 1].X + ((I - D) / d) * (points[i].X - points[i - 1].X);
        var qy = points[i - 1].Y + ((I - D) / d) * (points[i].Y - points[i - 1].Y);
        var q = new Point(qx, qy, points[i].ID);
        newpoints[newpoints.length] = q; // append new point 'q'
        points.splice(i, 0, q); // insert 'q' at position i in points s.t. 'q' will be the next i
        D = 0.0;
      }
      else D += d;
    }
  }
  if (newpoints.length == n - 1) // sometimes we fall a rounding-error short of adding the last point, so add it if so
    newpoints[newpoints.length] = new Point(points[points.length - 1].X, points[points.length - 1].Y, points[points.length - 1].ID);
  return newpoints;
}
function Scale(points)
{
  var minX = +Infinity, maxX = -Infinity, minY = +Infinity, maxY = -Infinity;
  for (var i = 0; i < points.length; i++) {
    minX = Math.min(minX, points[i].X);
    minY = Math.min(minY, points[i].Y);
    maxX = Math.max(maxX, points[i].X);
    maxY = Math.max(maxY, points[i].Y);
  }
  var size = Math.max(maxX - minX, maxY - minY);
  var newpoints = new Array();
  for (var i = 0; i < points.length; i++) {
    var qx = (points[i].X - minX) / size;
    var qy = (points[i].Y - minY) / size;
    newpoints[newpoints.length] = new Point(qx, qy, points[i].ID);
  }
  return newpoints;
}
function TranslateTo(points, pt) // translates points' centroid
{
  var c = Centroid(points);
  var newpoints = new Array();
  for (var i = 0; i < points.length; i++) {
    var qx = points[i].X + pt.X - c.X;
    var qy = points[i].Y + pt.Y - c.Y;
    newpoints[newpoints.length] = new Point(qx, qy, points[i].ID);
  }
  return newpoints;
}
function Centroid(points)
{
  var x = 0.0, y = 0.0;
  for (var i = 0; i < points.length; i++) {
    x += points[i].X;
    y += points[i].Y;
  }
  x /= points.length;
  y /= points.length;
  return new Point(x, y, 0);
}
function PathDistance(pts1, pts2) // average distance between corresponding points in two paths
{
  var d = 0.0;
  for (var i = 0; i < pts1.length; i++) // assumes pts1.length == pts2.length
    d += Distance(pts1[i], pts2[i]);
  return d / pts1.length;
}
function PathLength(points) // length traversed by a point path
{
  var d = 0.0;
  for (var i = 1; i < points.length; i++)
  {
    if (points[i].ID == points[i-1].ID)
      d += Distance(points[i - 1], points[i]);
  }
  return d;
}
function Distance(p1, p2) // Euclidean distance between two points
{
  var dx = p2.X - p1.X;
  var dy = p2.Y - p1.Y;
  return Math.sqrt(dx * dx + dy * dy);
}
